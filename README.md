# <span style="font-size:1.6em">ü§ñ Bishop Prototype with Synthetic Human Core Starter</span>

<p style="font-size:1.05em">
  –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–∞–º–∏ —Å –æ—á–µ—Ä–µ–¥—å—é –∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏
  –Ω–∞ –±–∞–∑–µ Spring Boot, –∞ —Ç–∞–∫–∂–µ —Å—Ç–∞—Ä—Ç–µ—Ä –¥–ª—è –∞—É–¥–∏—Ç–∞ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ AOP. –ü—Ä–æ–µ–∫—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –∫–∞–∫
  –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö Maven-–º–æ–¥—É–ª–µ–π/–ø—Ä–æ–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.
</p>

<hr/>

## üîé –û–±–∑–æ—Ä

- **–û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å (root):** `synthetic-human-core-starter` ‚Äî Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + –±–∏–±–ª–∏–æ—Ç–µ–∫–∞-—Å—Ç–∞—Ä—Ç–µ—Ä —Å:
  - AOP-–∞—É–¥–∏—Ç–æ–º –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@WeylandWatchingYou`;
  - –û—á–µ—Ä–µ–¥—å—é –∫–æ–º–∞–Ω–¥ (`CommandQueue`) –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º-–≤–æ—Ä–∫–µ—Ä–æ–º (`CommandWorker`) –Ω–∞ `ThreadPoolExecutor`;
  - –í–∞–ª–∏–¥–∞—Ü–∏–µ–π –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Jakarta Validation);
  - –ì–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
- **–ú–æ–¥—É–ª—å:** `bishop-prototype` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ Spring Boot-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–¥–µ–º–æ/–∑–∞–≥–æ—Ç–æ–≤–∫–∞).
- **–ú–æ–¥—É–ª—å:** `bi` ‚Äî –∑–∞–≥–æ—Ç–æ–≤–∫–∞ Maven-–ø—Ä–æ–µ–∫—Ç–∞ (–±–µ–∑ –∫–æ–¥–∞, –ø–æ–¥ –±—É–¥—É—â–∏–µ BI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã).

<hr/>

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
.
‚îú‚îÄ pom.xml                         # Spring Boot —Å—Ç–∞—Ä—Ç–µ—Ä + –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (root)
‚îú‚îÄ src/main/java/org/zuzukov/synthetichumancorestarter/
‚îÇ  ‚îú‚îÄ SyntheticHumanCoreStarterApplication.java
‚îÇ  ‚îú‚îÄ audit/
‚îÇ  ‚îÇ  ‚îú‚îÄ Aspect.java               # AOP –∞—Å–ø–µ–∫—Ç: –∞—É–¥–∏—Ç –º–µ—Ç–æ–¥–æ–≤
‚îÇ  ‚îÇ  ‚îú‚îÄ AuditProperties.java      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏—Ç–∞ (CONSOLE/KAFKA)
‚îÇ  ‚îÇ  ‚îî‚îÄ WeylandWatchingYou.java   # –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –∞—É–¥–∏—Ç–∞
‚îÇ  ‚îú‚îÄ command/
‚îÇ  ‚îÇ  ‚îú‚îÄ Command.java              # –ú–æ–¥–µ–ª—å –∫–æ–º–∞–Ω–¥—ã (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
‚îÇ  ‚îÇ  ‚îú‚îÄ CommandProcessor.java     # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (CRITICAL/COMMON)
‚îÇ  ‚îÇ  ‚îú‚îÄ CommandQueue.java         # –û—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥
‚îÇ  ‚îÇ  ‚îú‚îÄ CommandWorker.java        # –î–∏—Å–ø–µ—Ç—á–µ—Ä-–≤–æ—Ä–∫–µ—Ä (ThreadPoolExecutor)
‚îÇ  ‚îÇ  ‚îî‚îÄ Priority.java             # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∫–æ–º–∞–Ω–¥
‚îÇ  ‚îî‚îÄ error/
‚îÇ     ‚îú‚îÄ GlobalExceptionHandler.java
‚îÇ     ‚îî‚îÄ QueueOverflowException.java
‚îÇ
‚îú‚îÄ bishop-prototype/
‚îÇ  ‚îú‚îÄ pom.xml
‚îÇ  ‚îî‚îÄ src/main/resources/application.properties
‚îÇ
‚îî‚îÄ bi/
   ‚îî‚îÄ pom.xml
```

<hr/>

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **AOP-–∞—É–¥–∏—Ç**: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤, –∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@WeylandWatchingYou`.
- **–û—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥**: –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—É–ª–∞.
- **–í–æ—Ä–∫–µ—Ä—ã**: –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ `ThreadPoolExecutor` —Å –±—ç–∫–æ—Ñ–æ–º –ø—Ä–∏ `RejectedExecutionException`.
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: Jakarta Validation (`@NotBlank`, `@Size`, `@NotNull`) –¥–ª—è –º–æ–¥–µ–ª–∏ `Command`.
- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –µ–¥–∏–Ω—ã–π `@RestControllerAdvice` –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤.

<hr/>

## üß© –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Java**: 17 (root) / 21 (–º–æ–¥—É–ª–∏) ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Java 21 –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- **Spring Boot**: 3.5.x (parent) / –ø–ª–∞–≥–∏–Ω—ã 3.2.x —É–∫–∞–∑–∞–Ω—ã –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö
- **AOP**, **Validation**, **Spring Web**
- **Micrometer** (–ø–æ–¥–∫–ª—é—á–µ–Ω), **Kafka clients** (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∞—É–¥–∏—Ç–∞ –≤ Kafka)
- **Lombok**
- **Maven**

<hr/>

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1) –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- Java 21 (JDK 21)
- Maven 3.9+

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏:
```bash
java -version
mvn -v
```

### 2) –°–±–æ—Ä–∫–∞
–°–æ–±—Ä–∞—Ç—å –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã:
```bash
# –í –∫–æ—Ä–Ω–µ (—Å–æ–±–µ—Ä—ë—Ç root-–º–æ–¥—É–ª—å synthetic-human-core-starter)
mvn clean package

# –°–æ–±—Ä–∞—Ç—å bishop-prototype
cd bishop-prototype && mvn clean package

# –°–æ–±—Ä–∞—Ç—å bi
cd ../bi && mvn clean package
```

### 3) –ó–∞–ø—É—Å–∫
- –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (root):
```bash
# –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
mvn spring-boot:run
```
–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ `SyntheticHumanCoreStarterApplication` —Å–æ–∑–¥–∞—ë—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É `CommandProcessor` ‚Üí `CommandQueue` ‚Üí `CommandWorker`.

- –ó–∞–ø—É—Å–∫ `bishop-prototype` (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–≥–æ—Ç–æ–≤–∫–∞):
```bash
cd bishop-prototype
mvn spring-boot:run
```

<hr/>

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏—Ç–∞ –≤ root-–º–æ–¥—É–ª–µ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `AuditProperties`:

```properties
# application.properties
weyland.audit.audit-type=CONSOLE   # CONSOLE –∏–ª–∏ KAFKA
weyland.audit.kafka-topic=weyland.audit
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á—ë–Ω —Ä–µ–∂–∏–º **CONSOLE** ‚Äî –∞—É–¥–∏—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –ª–æ–≥–∏.

<hr/>

## üõ† –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∞—É–¥–∏—Ç –∫ –º–µ—Ç–æ–¥—É

–û—Ç–º–µ—Ç—å—Ç–µ –º–µ—Ç–æ–¥ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@WeylandWatchingYou` ‚Äî AOP-–∞—Å–ø–µ–∫—Ç –∑–∞–ª–æ–≥–∏—Ä—É–µ—Ç –∏–º—è –∫–ª–∞—Å—Å–∞/–º–µ—Ç–æ–¥–∞, –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```java
import org.zuzukov.synthetichumancorestarter.audit.WeylandWatchingYou;

public class MyService {

    @WeylandWatchingYou
    public String doWork(String param) {
        return "result:" + param;
    }
}
```

<hr/>

## üß† –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏

- **Command** ‚Äî –æ–±—ä–µ–∫—Ç –∫–æ–º–∞–Ω–¥—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–æ–ª–µ–π (`description`, `priority`, `author`, `time`).
- **CommandProcessor** ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç CRITICAL-–∫–æ–º–∞–Ω–¥—ã —Å—Ä–∞–∑—É –≤ –ª–æ–≥, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –≤ –æ—á–µ—Ä–µ–¥—å.
- **CommandQueue** ‚Äî –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –æ—á–µ—Ä–µ–¥—å. –í —Å–ª—É—á–∞–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç `QueueOverflowException`.
- **CommandWorker** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —á–∏—Ç–∞–µ—Ç –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –≤ `ThreadPoolExecutor` (2‚Äì4 –ø–æ—Ç–æ–∫–∞). –ü—Ä–∏ `RejectedExecutionException` –¥–µ–ª–∞–µ—Ç –ø–∞—É–∑—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ –Ω–∞—á–∞–ª–æ –æ—á–µ—Ä–µ–¥–∏.
- **GlobalExceptionHandler** ‚Äî –æ–±—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏ –∏ –ø—Ä–æ—á–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

<hr/>

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –º–æ–¥—É–ª—è:
```bash
mvn test          # –≤ –∫–æ—Ä–Ω–µ ‚Äî –¥–ª—è root-–º–æ–¥—É–ª—è
cd bishop-prototype && mvn test
cd ../bi && mvn test
```

<hr/>

## üì¶ –°–±–æ—Ä–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ `target/` –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è. –î–ª—è root-–º–æ–¥—É–ª—è –ø–æ—Å–ª–µ `mvn package` –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π `jar`.

<hr/>

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª–∏—Ü–µ–Ω–∑–∏–∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).

<hr/>

## üôå –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- Spring, AOP, –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –æ—Ç –∏–¥–µ–∏ ¬´–Ω–∞–±–ª—é–¥–∞—é—â–µ–≥–æ¬ª Weyland üëÅÔ∏è

<p align="center" style="font-size:1.1em">
  <b>–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!</b> ‚ú® –ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤/API ‚Äî –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å, –¥–æ–±–∞–≤–ª—é.
</p>
